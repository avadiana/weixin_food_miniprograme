请基于微信小程序云开发技术，帮我生成一个美食探店小程序代码，要求如下：

### 一、数据模型设计
1. 创建云数据库集合`shops`，包含字段：
   - _id: 自动生成
   - name: 店名（字符串，必填）
   - address: 地址（字符串，必填）
   - category: 分类（枚举值：早餐/正餐/下午茶/夜宵）
   - photos: 图片数组（存储云文件ID）
   - creator: 创建者openid（自动关联当前用户）
   - createTime: 时间戳（自动生成）

### 二、核心功能实现
1. 用户身份：
   - 使用微信登录获取用户openid
   - 提交数据时自动关联creator字段

2. 添加店铺页面(add)：
   - 表单包含：
     * 店名输入框（必填验证）
     * 地址输入框（必填验证）
     * 分类选择器（单选：早餐/正餐/下午茶/夜宵）
     * 图片上传组件（支持多选，最多9张）
   - 提交按钮调用云函数写入数据库

3. 图片上传功能：
   - 使用wx.cloud.uploadFile上传到云存储
   - 生成图片访问URL存储到photos数组
   - 上传前压缩图片（quality: 70%）

4. 店铺列表页面(list)：
   - 按时间倒序显示所有店铺
   - 卡片式布局显示：
     * 首张图片作为封面（cover模式）
     * 店名+分类标签
     * 地址（超出部分省略）
   - 下拉刷新/上拉加载更多

### 三、云开发配置
1. 初始化时绑定云环境ID：
```javascript
wx.cloud.init({
  env: '你的环境ID'
})